.row.top-level-category-row
  .col-10.listed-category-col
    .row{:id => "top-level-category-#{category.display_name(I18n.locale).squish.downcase.tr(" ","_")}"}
      .col-12.listed-category-col
        = category.display_name(I18n.locale)
    - unless category.children.empty?
      = render :partial => "listed_subcategory", :collection => category.children, :as => :subcategory
  .col-2.listed-category-col
    = link_to edit_admin_category_path(category), :class => "custom-fields-action-edit", :id => "edit_category_#{category.id}" do
      = icon_tag("edit", ["icon-fix"])
    - remove_html_opts = { class: "custom-fields-action-remove", id: "remove_category_#{category.id}" }
    
    - if !category.can_destroy?
      = icon_tag("cross", ["icon-fix disabled"])
    - elsif category.remove_needs_caution?
      = link_to remove_admin_category_path(category), remove_html_opts do
        = icon_tag("cross", ["icon-fix"])
    - else
      = link_to admin_category_path(category), remove_html_opts.merge(:method => :delete, :confirm => t("admin.categories.index.remove_category_confirmation", {category_name: category.display_name(I18n.locale)})) do
        = icon_tag("cross", ["icon-fix"])