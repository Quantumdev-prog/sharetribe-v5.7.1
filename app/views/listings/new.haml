:javascript
  $(document).ready(function() {
    initialize_new_listing_form_selectors("#{I18n.locale}", #{Listing::VALID_SHARE_TYPES.to_json});
  });

- content_for :extra_javascript do
  = javascript_include_tag "https://maps.google.com/maps/api/js?sensor=true"

#new_listing_form.new-listing-form.centered-section

  .listing_type
    - Listing::VALID_TYPES.each do |listing_type|
      %a.select.selected.hidden{:href => "#", :name => listing_type}
        .link-icon{:class => get_icon_class(listing_type)}
        .link-text= t(".selected_listing_type", :listing_type => t(".selected_#{listing_type}"))

  .category
    - Listing::VALID_CATEGORIES.each do |category|
      %a.select.selected.hidden{:href => "#", :name => category}
        .link-icon{:class => get_icon_class(category)}
        .link-text= t(".selected_category", :category => t(".selected_#{category}"))
  
  .subcategory
    - Listing::VALID_SUBCATEGORIES["item"].each do |subcategory|
      %a.select.selected.hidden{:href => "#", :name => subcategory}
        .link-icon{:class => get_icon_class(subcategory)}
        .link-text= t(".selected_subcategory", :subcategory => t(".#{subcategory}"))
   
  .share_type
    - Listing.all_unique_share_types.each do |share_type|
      %a.select.selected.hidden{:href => "#", :name => share_type}
        .link-icon{:class => get_icon_class(share_type)}
        .link-text= t(".selected_share_type", :share_type => t(".selected_#{share_type}"))
    
  .option-group.listing_type-options
    %h2
      = t(".what_do_you_want_to_do")
    - Listing::VALID_TYPES.each do |listing_type|
      %a.select.option{:href => "#", :name => listing_type}
        .link-icon{:class => get_icon_class(listing_type)}
        .link-text= t(".#{listing_type}")
      
  .option-group.category-options.hidden
    %h2
      .option-group-title.category.offer.hidden
        = t(".what_can_you_offer")
      .option-group-title.category.request.hidden
        = t(".what_do_you_need")
    - Listing::VALID_CATEGORIES.each do |category|
      %a.select.option{:href => "#", :name => category}
        .link-icon{:class => get_icon_class(category)}
        .link-text= t(".#{category}")
  
  .option-group.subcategory-options.hidden
    %h2
      - Listing::VALID_CATEGORIES.each do |category|
        .option-group-title.subcategory.hidden{:class => category}
          = t(".what_kind_of_category", :category => t(".#{category}_with_article", :default => t(".listing")))
    - Listing::VALID_SUBCATEGORIES["item"].each do |subcategory|
      %a.select.option{:href => "#", :name => subcategory}
        .link-icon{:class => get_icon_class(subcategory)}
        .link-text= t(".#{subcategory}")
  
  .option-group.share_type-options.hidden
    %h2
      .option-group-title.share_type.offer.hidden
        = t(".how_do_you_want_to_share_it")
      .option-group-title.share_type.request.hidden
        = t(".how_do_you_want_to_get_it")
    - Listing.all_unique_share_types.each do |share_type|
      - link_class = ""
      - Listing::VALID_SHARE_TYPES.each do |listing_type, hash|
        - hash.each do |category, array|
          - if array && array.include?(share_type)
            - link_class += "#{listing_type} #{category} "
      %a.select.option.share-type-option.hidden{:href => "#", :name => share_type, :class => link_class}
        .link-icon{:class => get_icon_class(share_type)}
        .link-text= t(".#{share_type}")

  .form-fields.hidden
