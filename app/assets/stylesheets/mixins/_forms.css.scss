@mixin button-group-button-padding {
  padding: lines(0.25) lines(0.5);
}

@mixin neutral-button-color {
  // Colors
  color: $body;
  background: $highlight;
  border-color: $border;
  &:hover { 
    color: $background;
    background: $aside;
    border-color: darken($aside, 10%);
  }
}

@mixin selected-button-color {
  &.selected {
    background-color: $link;
    color: $background;
    border-color: darken($link, 10%);
  }
}

@mixin button-group-button {
  display: block;
  float: left;
  margin: 0;
  @include button-group-button-padding;
  @include neutral-button-color;
  @include selected-button-color;

  // Borders
  @include button-group-borders(0);
  @include border-radius(0);

  // Border radius
  $radius: lines(0.25);
  &:first-child {
    @include border-left-radius($radius);
  }

  &:last-child {
    @include border-right-radius($radius);
  }
}

@mixin button-group {
  @include clearfix;
}

/**
  Use this mixin to get correct borders for button group when
  it is selected/hovered

  Classes added:
  - `selected`

  The logic and selectors for selected/hovered borders is a
  bit complicated, that's why they are in their own mixin
*/
@mixin button-group-borders($border-width) {
  border-right-width: em(0);

  &.selected {
    border-width: $border-width;

    // Explanation:
    // - match any (*) element
    // - immediately precended (+)
    // - by the current element (&)
    & + * {
      border-left: $border-width;
    }
  }

  // Explanation:
  // - When current element (&) has mouse over (:hover)
  // - match any (*) element
  // - immediately precended (+) by the current element
  &:hover + * {
    border-left-width: em(0);
  }

  // Explanation:
  // - When current element (&) has mouse over (:hover)
  // - match element with class `selected`
  // - immediately precended (+) by the current element
  &:hover + .selected {
    border-left: em(0);
  }
}

// Form button or a link that looks like a button
@mixin button {
  @include border-radius(em(5));
  display: inline-block;
  background: $link;
  color: $background;
  text-align: center;
  cursor: pointer;
  margin: lines(0.5) 0;
  padding: 0 lines(1);
  height: 42px;
  padding-bottom: 2px;
  border: 0;
  display: table;
  line-height: 16px;
  
  .content {
    display: table-cell; 
    vertical-align: middle; 
    text-align: center;
  }

  &:hover {
    background: darken($link, 5%);
    color: $background;
  };

  &:active {
    background: darken($link, 10%);
    color: $background;
  }
}

@mixin big-button {
  @include button;
  font-size: 22px;
  height: 60px;
  line-height: 24px;
  padding-bottom: 3px;
}
